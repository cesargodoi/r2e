{% load static %}
{% load i18n %}
<div class="card mb-3">
  <div class="card-body shadow">
    <div class="d-flex flex-wrap justify-content-between align-items-center">
      <h2 class="fw-bold">
        {{ title }} 
      </h2>
      <span class="text-muted fs-5 fw-light fst-italic">
        {{ object.activity.name }} &nbsp;&nbsp;|&nbsp;&nbsp;
        {{ object.center.short_name }} - 
        {{ object.center.city }} ({{ object.center.state }}-{{ object.center.country }})
        &nbsp;&nbsp; {{ object.date|date:"M/Y" }}
      </span>
    </div>
    <div class="row mb-3 border-bottom">
      <div class="col-md-2 text-end"></div>
      <div class="col-md-2 text-end">
        <a href="{% url 'event:accommodations' event_id %}">
          <strong>{% trans "Registered" %}:</strong> 
        </a>&nbsp;&nbsp;
        <span class="h4"><strong>{{ request.session.accommodation.total_registers }}</strong></span>
      </div>
      <div class="col-md-2 text-end">
        <a href="{% url 'event:accommodations' event_id %}?term=alloc">
          <strong>{% trans "Allocated" %}:</strong> 
        </a>&nbsp;&nbsp;
        <span class="h4"><strong>{{ request.session.accommodation.allocated }}</strong></span>
      </div>
      <div class="col-md-2 text-end">
        <a href="{% url 'event:accommodations' event_id %}?term=unalloc">
          <strong>{% trans "Unallocated" %}:</strong> 
        </a>&nbsp;&nbsp;
        <span class="h4"><strong>{{ request.session.accommodation.unallocated }}</strong></span>
      </div>
      <div class="col-md-2 text-end">
        <a href="{% url 'event:accommodations' event_id %}?term=HSE">
          <strong>{% trans "House" %}:</strong> 
        </a>&nbsp;&nbsp;
        <span class="h4"><strong>{{ request.session.accommodation.house }}</strong></span>
      </div>
      <div class="col-md-2 text-end">
        <a href="{% url 'event:accommodations' event_id %}?term=HTL">
          <strong>{% trans "Hotel" %}:</strong>
        </a> &nbsp;&nbsp;
        <span class="h4"><strong>{{ request.session.accommodation.hotel }}</strong></span>
      </div>
    </div>

    <div class="d-flex justify-content-between">
      {% include 'base/paginator.html' %}
      <div class="text-end mb-3">
        <button 
          type="button" 
          class="btn btn-outline-info"
          onclick="location.href='{% url 'event:detail' object.pk %}';"
        >
          <i class="bi bi-chevron-left"></i>
          Voltar 
        </button>
        <button 
          type="button"
          class="btn btn-outline-danger" 
          data-bs-toggle="modal" 
          data-bs-target="#baseModal"
          onclick="manageData('{% url 'event:rebuild_the_mapping' event.pk %}')"
        >
          <i class="bi bi-building"></i> 
          Reset mapping
        </button>
      </div>
    </div>
  </div>
</div>