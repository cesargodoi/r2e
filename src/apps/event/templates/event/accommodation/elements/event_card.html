{% load static %}
{% load i18n %}
<div class="card mb-3">
  <div class="card-body shadow">
    <div class="d-flex flex-wrap justify-content-between align-items-center">
      <h2 class="fw-bold">
        {{ title }} 
      </h2>
      <span class="text-muted fs-5 fw-light fst-italic">
        {{ object.activity.name }} &nbsp;&nbsp;|&nbsp;&nbsp;
        {{ object.center.short_name }} - 
        {{ object.center.city }} ({{ object.center.state }}-{{ object.center.country }})
        &nbsp;&nbsp; {{ object.date|date:"M/Y" }}
      </span>
    </div>
    <ul class="nav nav-pills nav-fill mt-2 mb-4 bg-light">
      <li class="nav-item">
        <a 
          class="nav-link {% if filter == 'all' %}active{% endif %}" 
          href="{% url 'event:accommodations' event_id %}"
        >
          {% trans "Registered" %}  
          <span class="badge text-bg-secondary">
            {{ request.session.accommodation.total_registers }}
          </span>
        </a>
      </li>
      <li class="nav-item">
        <a 
          class="nav-link {% if filter == 'alloc' %}active{% endif %}" 
          href="{% url 'event:accommodations' event_id %}?filter=alloc"
        >
          {% trans "Allocated" %}
          <span class="badge text-bg-secondary">
            {{ request.session.accommodation.allocated }}
          </span>
        </a> 
      </li>
      <li class="nav-item">
        <a 
          class="nav-link {% if filter == 'unalloc' %}active{% endif %}" 
          href="{% url 'event:accommodations' event_id %}?filter=unalloc"
        >
          {% trans "Unallocated" %}
          <span class="badge text-bg-secondary">
            {{ request.session.accommodation.unallocated }}
          </span>
        </a> 
      </li>
      <li class="nav-item">
        <a 
          class="nav-link {% if filter == 'HSE' %}active{% endif %}" 
          href="{% url 'event:accommodations' event_id %}?filter=HSE"
        >
          {% trans "House" %}
          <span class="badge text-bg-secondary"> 
            {{ request.session.accommodation.house }}
          </span>
        </a> 
      </li>
      <li class="nav-item">
        <a 
          class="nav-link {% if filter == 'HTL' %}active{% endif %}" 
          href="{% url 'event:accommodations' event_id %}?filter=HTL"
        >
          {% trans "Hotel" %}
          <span class="badge text-bg-secondary">
            {{ request.session.accommodation.hotel }}
          </span>
        </a> 
      </li>
    </ul>

    <div class="d-flex justify-content-between align-items-center">
      {% include 'base/paginator.html' %}
      <div class="text-end mb-3">
        {% include 'base/generics/search.html' with placeholder='Search for ...' %}
        <button 
          type="button" 
          class="btn btn-outline-info"
          onclick="location.href='{% url 'event:detail' object.pk %}';"
        >
          <i class="bi bi-chevron-left"></i>
          Voltar 
        </button>
        <button 
          type="button"
          class="btn btn-outline-danger" 
          data-bs-toggle="modal" 
          data-bs-target="#baseModal"
          onclick="manageData('{% url 'event:rebuild_the_mapping' event.pk %}')"
        >
          <i class="bi bi-building"></i> 
          Reset mapping
        </button>
      </div>
    </div>
  </div>
</div>