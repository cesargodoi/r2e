{% extends 'base/base_report.html' %}
{% load static %}
{% load my_tags %}

{% block header %}
  <h5>{{ title }}</h5>
{% endblock  %}

{% block content %}
  <div class="table-responsive table mt-2" role="grid" aria-describedby="dataTable_info">
    <table class="table table-sm" style="font-size: smaller;">
      <thead>
        <tr>
          <th scope="col" width="2%">#</th>
          <th scope="col" width="14%">Nome</th>
          <th scope="col" width="18%">Hospedagem</th>
          <th scope="col" width="13%">Chegada</th>
          <th scope="col" width="13%">Partida</th>
          <th scope="col" width="20%">Obs</th>
          <th scope="col" width="20%">Staff</th>
        </tr>
      </thead>
      <tbody>
        {% for obj in object_list %}
          <tr>
            <th>{{ forloop.counter }}</th>
            <td class="fw-bolder">{{ obj.person.name|shortname }}</td>
            <td>
              {% if obj.lodge == 'HSE' %}
                üè† CASA
              {% elif obj.lodge == 'HTL' %}
                üè® HOTEL
              {% else %}
                üè¢ 
                {% if obj.accommodation %}
                  {{ obj.accommodation.bedroom.building.name }} | {{ obj.accommodation.bedroom.name }} | {{ obj.accommodation.get_bottom_or_top_display }}
                {% else %}
                  N√£o alocado
                {% endif %}
              {% endif %}
            </td>
            <td>‚§µÔ∏è {{ obj.get_arrival_time_display }}</td>
            <td>‚§¥Ô∏è {{ obj.get_departure_time_display }}</td>
            <td>{{ obj.observations|default:""|truncatechars:25 }}</td>
            <td>{{ obj.staff|default:"" }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
